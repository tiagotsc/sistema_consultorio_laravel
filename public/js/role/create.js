$(".marcado").shiftcheckbox(),$("#frm").validate({debug:!1,errorClass:"error",errorElement:"p",errorPlacement:function(e,r){r.parents(".form-group").append(e);var o=$(r).next(".help-block").text();$(r).attr("aria-label",o)},highlight:function(e,r){$(e).attr("aria-invalid",!0).parents(".form-group").addClass("has-error")},unhighlight:function(e,r){$(e).removeAttr("aria-invalid").removeAttr("aria-label").parents(".form-group").removeClass("has-error")},rules:{name:{required:!0}},messages:{name:{required:"Informe, por favor!"}}}),$("#salvar").on("click",function(){$("#frm").valid()&&(loadingShow("Gravando..."),$(this).prop("disabled",!0).html("Aguarde..."),$("#frm").submit())}),$("#permissoes_grupo").on("change",function(){if($("#todos").prop("checked",!1),0!=$(this).val()){$("input."+$(this).val()+"_checkbox").length==$("input."+$(this).val()+"_checkbox:checked").length&&$("#todos").prop("checked",!0),$(".permissao_item").hide(),$("."+$(this).val()).show()}else{$(".marcado").length==$("input.marcado:checked").length&&$("#todos").prop("checked",!0),$(".permissao_item").show()}}),$("#todos").on("click",function(){var e=".marcado";0!=$("#permissoes_grupo").val()&&(e="."+$("#permissoes_grupo").val()+"_checkbox"),1==$(this).prop("checked")?$(e).prop("checked",!0):$(e).prop("checked",!1)});